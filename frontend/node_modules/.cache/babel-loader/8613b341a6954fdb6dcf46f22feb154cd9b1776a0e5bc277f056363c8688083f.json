{"ast":null,"code":"import React,{useEffect,useState}from'react';import Navbar from'../components/navbar';import DataTable from'./data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;const Inbox=()=>{const[emails,setEmailData]=useState([]);useEffect(()=>{const fetchData=async()=>{try{const token=localStorage.getItem('token');const response=await fetch(\"\".concat(apiUrl,\"/get-emails\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token),'User-Email':localStorage.getItem('userEmail')// Pastikan email pengguna disertakan\n}});if(response.ok){const data=await response.json();setEmailData(data);}else{console.error('Error fetching emails:',response.statusText);}}catch(error){console.error('Error fetching emails:',error);}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Inbox\"}),/*#__PURE__*/_jsx(DataTable,{data:emails})]});};export default Inbox;","map":{"version":3,"names":["React","useEffect","useState","Navbar","DataTable","jsx","_jsx","jsxs","_jsxs","apiUrl","process","env","REACT_APP_API_URL","Inbox","emails","setEmailData","fetchData","token","localStorage","getItem","response","fetch","concat","method","headers","ok","data","json","console","error","statusText","children"],"sources":["/frontend/src/components/inbox.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Navbar from '../components/navbar';\nimport DataTable from './data';\nconst apiUrl = process.env.REACT_APP_API_URL;\nconst Inbox = () => {\n  const [emails, setEmailData] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`${apiUrl}/get-emails`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n            'User-Email': localStorage.getItem('userEmail'),  // Pastikan email pengguna disertakan\n          },\n        });\n  \n        if (response.ok) {\n          const data = await response.json();\n          setEmailData(data);\n        } else {\n          console.error('Error fetching emails:', response.statusText);\n        }\n      } catch (error) {\n        console.error('Error fetching emails:', error);\n      }\n    };\n  \n    fetchData();\n  }, []); \n\n  return (\n    <div>\n      <Navbar />\n      <h2>Inbox</h2>\n      <DataTable data={emails} />\n    </div>\n  );\n};\n\nexport default Inbox;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,SAAS,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/B,KAAM,CAAAC,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAC5C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,MAAM,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE3CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,MAAM,gBAAe,CACnDc,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAF,MAAA,CAAYL,KAAK,CAAE,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAI;AACpD,CACF,CAAC,CAAC,CAEF,GAAIC,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCZ,YAAY,CAACW,IAAI,CAAC,CACpB,CAAC,IAAM,CACLE,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAET,QAAQ,CAACU,UAAU,CAAC,CAC9D,CACF,CAAE,MAAOD,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAEDb,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAAuB,QAAA,eACEzB,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,OAAAyB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzB,IAAA,CAACF,SAAS,EAACsB,IAAI,CAAEZ,MAAO,CAAE,CAAC,EACxB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}